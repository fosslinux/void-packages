# Template file for 'raft'
pkgname=raft
version=0.9.7
revision=1
build_style=gnu-configure
hostmakedepends="autoconf automake libtool pkg-config"
makedepends="libuv-devel"
short_desc="C implementation of the Raft consensus protocol"
maintainer="fosslinux <fosslinux@aussies.space>"
license="LGPL-3.0-only"
homepage="https://github.com/canonical/raft"
distfiles="https://github.com/canonical/raft/archive/v${version}.tar.gz"
checksum=789d39ca2e9272cf7a564e1584de8abb82983b09b7c97a8a5eeaa2ecf0de29b6

pre_configure() {
	autoreconf -i
}

raft-devel_package() {
	short_desc+=" - development files"
	pkg_install() {
		vmove "usr/lib/*.so"
		vmove "usr/lib/*.a"
		vmove "usr/include"
		vmove "usr/lib/pkgconfig"
	}
}
